# stdiolink 里程碑总览 v2

## 核心愿景

从"命令行入口"转向"自描述生态闭环"，实现：
- 代码即文档
- UI 自动生成
- Host 即插即用

## 里程碑依赖图

```
已完成 (M1-M11)
    │
    ▼
M12 DriverCore双模式 ──► M13 CLI Help与元数据导出
    │                         │
    │                         ▼
    │                    M14 完整文档生成器
    │
    ▼
M15 强类型事件流 ──► M16 高级UI生成 ──► M17 配置注入闭环
                                              │
                                              ▼
                         M18 版本协商 ──► M19 Host注册中心
```

## 里程碑清单

| 编号 | 名称 | 对应需求 | 状态 |
|------|------|----------|------|
| M12 | DriverCore 双模式集成 | 基础设施 | 待开发 |
| M13 | CLI Help 与元数据导出 | 需求2+8 | 待开发 |
| M14 | 完整文档生成器 | 需求1 | 待开发 |
| M15 | 强类型事件流规范 | 需求6 | 待开发 |
| M16 | 高级 UI 生成策略 | 需求4 | 待开发 |
| M17 | 配置注入闭环 | 需求5 | 待开发 |
| M18 | 元数据版本协商 | 需求7 | 待开发 |
| M19 | Host 注册中心 | 需求3 | 待开发 |

## 关键口径同步

- M12：默认无参数输出 `--help`，根据 `stdin` 是否交互式与显式导出参数在 console/stdio 之间自动切换。
- M13：只负责参数解析与导出入口（`--export-meta/--export-doc`，含短参数）；不承载具体文档生成逻辑。
- M14：提供 `DocGenerator` 具体实现，完成 markdown/openapi/html 实际生成。
- M15：通过 `IResponderEx` 扩展，保留旧事件接口以规避 ABI 破坏。
- M13：`--export-meta` 输出格式等同 `driver.meta.json` 标准格式。

## 需求对应表

| 需求 | 描述 | 里程碑 |
|------|------|--------|
| 1 | 完整自文档导出能力 | M14 |
| 2 | 标准化元数据导出链路 | M13 |
| 3 | Host 侧注册与索引体系 | M19 |
| 4 | 复杂 UI 自动映射策略 | M16 |
| 5 | 配置注入与生效闭环 | M17 |
| 6 | 强类型事件流规范 | M15 |
| 7 | 元数据校验与版本协商 | M18 |
| 8 | 细粒度 CLI 帮助生成器 | M13 |
