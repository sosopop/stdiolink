<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StdioLink Management Console</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-50:  #E3F2FD;
            --primary-500: #2196F3;
            --primary-600: #1E88E5;
            --primary-700: #1976D2;
            --success-50:  #E8F5E9;
            --success-500: #4CAF50;
            --success-700: #388E3C;
            --warning-50:  #FFF3E0;
            --warning-500: #FF9800;
            --error-50:  #FFEBEE;
            --error-500: #F44336;
            --gray-50:  #FAFAFA;
            --gray-100: #F5F5F5;
            --gray-200: #EEEEEE;
            --gray-300: #E0E0E0;
            --gray-700: #616161;
            --gray-800: #424242;
            --gray-900: #212121;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--gray-100);
            color: var(--gray-900);
        }

        .font-mono {
            font-family: 'JetBrains Mono', monospace;
        }

        /* Sidebar Styles */
        .sidebar {
            width: 240px;
            background-color: white;
            border-right: 1px solid var(--gray-200);
            height: 100vh;
            position: fixed;
            left: 0;
            top: 0;
            z-index: 10;
        }

        .nav-item {
            display: flex;
            align-items: center;
            padding: 0.75rem 1.5rem;
            color: var(--gray-700);
            transition: all 0.2s;
            cursor: pointer;
            text-decoration: none;
        }

        .nav-item:hover {
            background-color: var(--gray-50);
            color: var(--primary-500);
        }

        .nav-item.active {
            background-color: var(--primary-50);
            color: var(--primary-600);
            border-right: 3px solid var(--primary-600);
            font-weight: 500;
        }

        /* Header Styles */
        .app-header {
            height: 60px;
            background: white;
            border-bottom: 1px solid var(--gray-200);
            position: fixed;
            top: 0;
            left: 240px;
            right: 0;
            z-index: 9;
            display: flex;
            align-items: center;
            padding: 0 1.5rem;
            justify-content: space-between;
        }

        /* Main Content */
        .main-content {
            margin-left: 240px;
            margin-top: 60px;
            padding: 2rem;
            min-height: calc(100vh - 60px);
        }

        /* Component: Card */
        .card {
            background: white;
            border-radius: 0.5rem;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
            border: 1px solid var(--gray-200);
        }

        .card-header {
            padding: 1rem 1.5rem;
            border-bottom: 1px solid var(--gray-100);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .card-title {
            font-size: 1rem;
            font-weight: 600;
            color: var(--gray-800);
        }

        .card-body {
            padding: 1.5rem;
        }

        /* Badge Styles */
        .badge {
            display: inline-flex;
            align-items: center;
            padding: 0.125rem 0.5rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 500;
        }

        .badge-success { background: var(--success-50); color: var(--success-700); }
        .badge-error { background: var(--error-50); color: var(--error-500); }
        .badge-warning { background: var(--warning-50); color: var(--warning-500); }
        .badge-info { background: var(--primary-50); color: var(--primary-600); }

        /* Button Styles */
        .btn-primary {
            background-color: var(--primary-500);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 0.25rem;
            font-weight: 500;
            transition: background 0.2s;
        }
        .btn-primary:hover { background-color: var(--primary-600); }

        .btn-secondary {
            border: 1px solid var(--gray-300);
            color: var(--gray-700);
            padding: 0.5rem 1rem;
            border-radius: 0.25rem;
            font-weight: 500;
            transition: background 0.2s;
        }
        .btn-secondary:hover { background-color: var(--gray-50); }

        /* Hidden class for SPA-like feel */
        .page-content { display: none; }
        .page-content.active { display: block; }
    </style>
</head>
<body>

    <!-- Sidebar -->
    <aside class="sidebar">
        <div class="p-6 flex items-center gap-2 mb-4">
            <div class="bg-blue-500 p-1.5 rounded-lg">
                <i data-lucide="link" class="text-white w-5 h-5"></i>
            </div>
            <span class="text-xl font-bold tracking-tight text-gray-800">StdioLink</span>
        </div>
        
        <nav class="sidebar-nav">
            <a onclick="showPage('dashboard')" id="nav-dashboard" class="nav-item active">
                <i data-lucide="layout-dashboard" class="w-5 h-5 mr-3"></i>
                Dashboard
            </a>
            <a onclick="showPage('projects')" id="nav-projects" class="nav-item">
                <i data-lucide="folder-open" class="w-5 h-5 mr-3"></i>
                Projects
            </a>
            <a onclick="showPage('services')" id="nav-services" class="nav-item">
                <i data-lucide="package" class="w-5 h-5 mr-3"></i>
                Services
            </a>
            <a onclick="showPage('instances')" id="nav-instances" class="nav-item">
                <i data-lucide="play-circle" class="w-5 h-5 mr-3"></i>
                Instances
            </a>
            <a onclick="showPage('drivers')" id="nav-drivers" class="nav-item">
                <i data-lucide="cpu" class="w-5 h-5 mr-3"></i>
                Drivers
            </a>
        </nav>

        <div class="absolute bottom-0 w-full border-t border-gray-100 p-4">
            <a class="nav-item rounded-md">
                <i data-lucide="settings" class="w-5 h-5 mr-3"></i>
                Settings
            </a>
        </div>
    </aside>

    <!-- Header -->
    <header class="app-header">
        <div class="flex items-center text-sm font-medium text-gray-500">
            <span id="breadcrumb-parent">Console</span>
            <i data-lucide="chevron-right" class="w-4 h-4 mx-2"></i>
            <span id="breadcrumb-current" class="text-gray-900">Dashboard</span>
        </div>
        
        <div class="flex items-center gap-4">
            <button class="text-gray-400 hover:text-gray-600 relative">
                <i data-lucide="bell" class="w-5 h-5"></i>
                <span class="absolute -top-1 -right-1 bg-red-500 w-2 h-2 rounded-full"></span>
            </button>
            <div class="h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold border border-blue-200">
                JD
            </div>
        </div>
    </header>

    <!-- Main Content Area -->
    <main class="main-content">
        
        <!-- Dashboard Page -->
        <div id="page-dashboard" class="page-content active">
            <div class="flex justify-between items-center mb-8">
                <div>
                    <h1 class="text-2xl font-bold text-gray-900">Dashboard</h1>
                    <p class="text-gray-500 mt-1">System overview at a glance</p>
                </div>
                <button class="btn-secondary flex items-center gap-2">
                    <i data-lucide="refresh-cw" class="w-4 h-4"></i>
                    Refresh
                </button>
            </div>

            <!-- Metric Cards -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                <div class="card p-6">
                    <div class="flex justify-between items-start mb-4">
                        <div class="bg-blue-50 p-2 rounded-lg text-blue-600">
                            <i data-lucide="package" class="w-6 h-6"></i>
                        </div>
                        <span class="text-xs font-medium text-green-600 bg-green-50 px-2 py-1 rounded">8 valid</span>
                    </div>
                    <div class="text-3xl font-bold mb-1">12</div>
                    <div class="text-sm text-gray-500">Total Services</div>
                </div>
                <div class="card p-6">
                    <div class="flex justify-between items-start mb-4">
                        <div class="bg-indigo-50 p-2 rounded-lg text-indigo-600">
                            <i data-lucide="folder-open" class="w-6 h-6"></i>
                        </div>
                        <span class="text-xs font-medium text-blue-600">+2 new</span>
                    </div>
                    <div class="text-3xl font-bold mb-1">24</div>
                    <div class="text-sm text-gray-500">Active Projects</div>
                </div>
                <div class="card p-6">
                    <div class="flex justify-between items-start mb-4">
                        <div class="bg-green-50 p-2 rounded-lg text-green-600">
                            <i data-lucide="play-circle" class="w-6 h-6"></i>
                        </div>
                        <span class="text-xs font-medium text-green-600">Normal</span>
                    </div>
                    <div class="text-3xl font-bold mb-1">18</div>
                    <div class="text-sm text-gray-500">Running Instances</div>
                </div>
                <div class="card p-6">
                    <div class="flex justify-between items-start mb-4">
                        <div class="bg-red-50 p-2 rounded-lg text-red-600">
                            <i data-lucide="alert-triangle" class="w-6 h-6"></i>
                        </div>
                        <span class="text-xs font-medium text-red-600">1 alert</span>
                    </div>
                    <div class="text-3xl font-bold mb-1">0</div>
                    <div class="text-sm text-gray-500">Failures Today</div>
                </div>
            </div>

            <!-- Charts & Activity Area -->
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8">
                <div class="card lg:col-span-2">
                    <div class="card-header">
                        <h3 class="card-title">Instance Activity</h3>
                        <select class="text-xs border rounded px-2 py-1 bg-gray-50 outline-none">
                            <option>Last 24 hours</option>
                            <option>Last 7 days</option>
                        </select>
                    </div>
                    <div class="card-body">
                        <div class="h-64 w-full flex items-end gap-2 px-2">
                            <!-- Fake Bar Chart -->
                            <div class="bg-blue-100 flex-1 rounded-t" style="height: 40%"></div>
                            <div class="bg-blue-200 flex-1 rounded-t" style="height: 60%"></div>
                            <div class="bg-blue-400 flex-1 rounded-t" style="height: 80%"></div>
                            <div class="bg-blue-500 flex-1 rounded-t" style="height: 95%"></div>
                            <div class="bg-blue-400 flex-1 rounded-t" style="height: 70%"></div>
                            <div class="bg-blue-200 flex-1 rounded-t" style="height: 45%"></div>
                            <div class="bg-blue-300 flex-1 rounded-t" style="height: 55%"></div>
                            <div class="bg-blue-500 flex-1 rounded-t" style="height: 90%"></div>
                            <div class="bg-blue-200 flex-1 rounded-t" style="height: 30%"></div>
                            <div class="bg-blue-400 flex-1 rounded-t" style="height: 75%"></div>
                            <div class="bg-blue-600 flex-1 rounded-t" style="height: 85%"></div>
                            <div class="bg-blue-300 flex-1 rounded-t" style="height: 50%"></div>
                        </div>
                        <div class="flex justify-between mt-4 text-xs text-gray-400 font-mono">
                            <span>00:00</span>
                            <span>06:00</span>
                            <span>12:00</span>
                            <span>18:00</span>
                            <span>23:59</span>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Instance Status</h3>
                    </div>
                    <div class="card-body flex flex-col items-center">
                        <div class="relative w-40 h-40 mb-6">
                            <svg viewBox="0 0 36 36" class="w-full h-full transform -rotate-90">
                                <circle cx="18" cy="18" r="16" fill="none" stroke="#eee" stroke-width="3"></circle>
                                <circle cx="18" cy="18" r="16" fill="none" stroke="var(--success-500)" stroke-width="3" stroke-dasharray="75, 100"></circle>
                                <circle cx="18" cy="18" r="16" fill="none" stroke="var(--primary-500)" stroke-width="3" stroke-dasharray="15, 100" stroke-dashoffset="-75"></circle>
                                <circle cx="18" cy="18" r="16" fill="none" stroke="var(--error-500)" stroke-width="3" stroke-dasharray="10, 100" stroke-dashoffset="-90"></circle>
                            </svg>
                            <div class="absolute inset-0 flex flex-col items-center justify-center">
                                <span class="text-2xl font-bold">18</span>
                                <span class="text-xs text-gray-400">Active</span>
                            </div>
                        </div>
                        <div class="w-full space-y-2">
                            <div class="flex justify-between items-center text-sm">
                                <span class="flex items-center gap-2"><div class="w-2 h-2 rounded-full bg-green-500"></div> Running</span>
                                <span class="font-medium">14</span>
                            </div>
                            <div class="flex justify-between items-center text-sm">
                                <span class="flex items-center gap-2"><div class="w-2 h-2 rounded-full bg-blue-500"></div> Pending</span>
                                <span class="font-medium">2</span>
                            </div>
                            <div class="flex justify-between items-center text-sm">
                                <span class="flex items-center gap-2"><div class="w-2 h-2 rounded-full bg-red-500"></div> Error</span>
                                <span class="font-medium">2</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Health List & Events -->
            <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">
                <div class="card lg:col-span-7">
                    <div class="card-header">
                        <h3 class="card-title">Project Health</h3>
                        <button class="text-blue-500 text-sm font-medium hover:underline">View All</button>
                    </div>
                    <div class="overflow-x-auto">
                        <table class="w-full text-left">
                            <thead class="bg-gray-50 border-b">
                                <tr>
                                    <th class="px-6 py-3 text-xs font-semibold text-gray-500 uppercase">Project</th>
                                    <th class="px-6 py-3 text-xs font-semibold text-gray-500 uppercase">Instances</th>
                                    <th class="px-6 py-3 text-xs font-semibold text-gray-500 uppercase">Status</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y">
                                <tr class="hover:bg-gray-50 transition">
                                    <td class="px-6 py-4">
                                        <div class="font-medium text-sm">Main Echo Server</div>
                                        <div class="text-xs text-gray-400">com.stdiolink.echo</div>
                                    </td>
                                    <td class="px-6 py-4 text-sm font-mono">3/3</td>
                                    <td class="px-6 py-4"><span class="badge badge-success">Healthy</span></td>
                                </tr>
                                <tr class="hover:bg-gray-50 transition">
                                    <td class="px-6 py-4">
                                        <div class="font-medium text-sm">Data Processor</div>
                                        <div class="text-xs text-gray-400">com.stdiolink.worker</div>
                                    </td>
                                    <td class="px-6 py-4 text-sm font-mono">5/5</td>
                                    <td class="px-6 py-4"><span class="badge badge-success">Healthy</span></td>
                                </tr>
                                <tr class="hover:bg-gray-50 transition">
                                    <td class="px-6 py-4">
                                        <div class="font-medium text-sm">Log Aggregator</div>
                                        <div class="text-xs text-gray-400">com.stdiolink.logger</div>
                                    </td>
                                    <td class="px-6 py-4 text-sm font-mono">0/1</td>
                                    <td class="px-6 py-4"><span class="badge badge-error">Invalid</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="card lg:col-span-5">
                    <div class="card-header">
                        <h3 class="card-title">Recent Events</h3>
                        <span class="badge badge-info">3 new</span>
                    </div>
                    <div class="card-body p-0">
                        <div class="divide-y">
                            <div class="p-4 flex gap-4 hover:bg-gray-50 transition">
                                <div class="mt-1 text-green-500"><i data-lucide="play" class="w-4 h-4"></i></div>
                                <div>
                                    <p class="text-sm font-medium">Instance started</p>
                                    <p class="text-xs text-gray-500">Project 'Echo-Dev' instance #2293 started successfully.</p>
                                    <p class="text-[10px] text-gray-400 mt-1 uppercase font-semibold">2 minutes ago</p>
                                </div>
                            </div>
                            <div class="p-4 flex gap-4 hover:bg-gray-50 transition">
                                <div class="mt-1 text-red-500"><i data-lucide="x-circle" class="w-4 h-4"></i></div>
                                <div>
                                    <p class="text-sm font-medium">Instance failure</p>
                                    <p class="text-xs text-gray-500">Instance #1102 in 'Logger-Svc' crashed with exit code 1.</p>
                                    <p class="text-[10px] text-gray-400 mt-1 uppercase font-semibold">15 minutes ago</p>
                                </div>
                            </div>
                            <div class="p-4 flex gap-4 hover:bg-gray-50 transition">
                                <div class="mt-1 text-blue-500"><i data-lucide="refresh-cw" class="w-4 h-4"></i></div>
                                <div>
                                    <p class="text-sm font-medium">Service Scanned</p>
                                    <p class="text-xs text-gray-500">Discovered 2 new service drivers in /usr/local/bin.</p>
                                    <p class="text-[10px] text-gray-400 mt-1 uppercase font-semibold">1 hour ago</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Projects Page -->
        <div id="page-projects" class="page-content">
            <div class="flex justify-between items-center mb-8">
                <div>
                    <h1 class="text-2xl font-bold text-gray-900">Projects</h1>
                    <p class="text-gray-500 mt-1">24 projects managed</p>
                </div>
                <button class="btn-primary flex items-center gap-2">
                    <i data-lucide="plus" class="w-4 h-4"></i>
                    Create Project
                </button>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6">
                <!-- Project Card 1 -->
                <div class="card group hover:shadow-lg transition-all duration-300">
                    <div class="card-header">
                        <div class="flex items-center gap-3">
                            <i data-lucide="folder-open" class="text-blue-500 w-6 h-6"></i>
                            <div>
                                <h4 class="font-semibold text-gray-800">Echo Server Dev</h4>
                                <span class="text-[10px] font-mono text-gray-400">proj-echo-server-01</span>
                            </div>
                        </div>
                        <span class="badge badge-success">Valid</span>
                    </div>
                    <div class="card-body">
                        <div class="space-y-3">
                            <div class="flex justify-between text-sm">
                                <span class="text-gray-500">Service</span>
                                <span class="font-medium text-blue-600">echo-driver</span>
                            </div>
                            <div class="flex justify-between text-sm">
                                <span class="text-gray-500">Instances</span>
                                <span class="text-green-600 font-medium">3 running</span>
                            </div>
                            <div class="flex justify-between text-sm">
                                <span class="text-gray-500">Auto Start</span>
                                <span class="badge badge-info">Enabled</span>
                            </div>
                        </div>
                    </div>
                    <div class="bg-gray-50 px-6 py-3 flex justify-between rounded-b-lg opacity-0 group-hover:opacity-100 transition">
                        <div class="flex gap-2">
                            <button class="p-1 text-gray-400 hover:text-green-500"><i data-lucide="play" class="w-4 h-4"></i></button>
                            <button class="p-1 text-gray-400 hover:text-red-500"><i data-lucide="square" class="w-4 h-4"></i></button>
                        </div>
                        <div class="flex gap-2 text-xs">
                            <button class="p-1 text-gray-400 hover:text-blue-500"><i data-lucide="edit-2" class="w-4 h-4"></i></button>
                            <button class="p-1 text-gray-400 hover:text-red-500"><i data-lucide="trash-2" class="w-4 h-4"></i></button>
                        </div>
                    </div>
                </div>

                <!-- Project Card 2 -->
                <div class="card group hover:shadow-lg transition-all duration-300">
                    <div class="card-header">
                        <div class="flex items-center gap-3">
                            <i data-lucide="folder-open" class="text-blue-500 w-6 h-6"></i>
                            <div>
                                <h4 class="font-semibold text-gray-800">Production Worker</h4>
                                <span class="text-[10px] font-mono text-gray-400">proj-prod-worker-v2</span>
                            </div>
                        </div>
                        <span class="badge badge-success">Valid</span>
                    </div>
                    <div class="card-body">
                        <div class="space-y-3">
                            <div class="flex justify-between text-sm">
                                <span class="text-gray-500">Service</span>
                                <span class="font-medium text-blue-600">worker-driver</span>
                            </div>
                            <div class="flex justify-between text-sm">
                                <span class="text-gray-500">Instances</span>
                                <span class="text-green-600 font-medium">5 running</span>
                            </div>
                            <div class="flex justify-between text-sm">
                                <span class="text-gray-500">Auto Start</span>
                                <span class="badge badge-info">Enabled</span>
                            </div>
                        </div>
                    </div>
                    <div class="bg-gray-50 px-6 py-3 flex justify-between rounded-b-lg opacity-0 group-hover:opacity-100 transition">
                        <div class="flex gap-2">
                            <button class="p-1 text-gray-400 hover:text-green-500"><i data-lucide="play" class="w-4 h-4"></i></button>
                            <button class="p-1 text-gray-400 hover:text-red-500"><i data-lucide="square" class="w-4 h-4"></i></button>
                        </div>
                        <div class="flex gap-2 text-xs">
                            <button class="p-1 text-gray-400 hover:text-blue-500"><i data-lucide="edit-2" class="w-4 h-4"></i></button>
                            <button class="p-1 text-gray-400 hover:text-red-500"><i data-lucide="trash-2" class="w-4 h-4"></i></button>
                        </div>
                    </div>
                </div>

                <!-- Project Card 3 -->
                <div class="card group border-red-200 hover:shadow-lg transition-all duration-300">
                    <div class="card-header">
                        <div class="flex items-center gap-3">
                            <i data-lucide="folder-open" class="text-red-500 w-6 h-6"></i>
                            <div>
                                <h4 class="font-semibold text-gray-800">Broken Service</h4>
                                <span class="text-[10px] font-mono text-gray-400">proj-test-fail-00</span>
                            </div>
                        </div>
                        <span class="badge badge-error">Invalid</span>
                    </div>
                    <div class="card-body">
                        <div class="space-y-3">
                            <div class="flex justify-between text-sm">
                                <span class="text-gray-500">Service</span>
                                <span class="font-medium text-red-600">unknown-driver</span>
                            </div>
                            <div class="flex justify-between text-sm">
                                <span class="text-gray-500">Instances</span>
                                <span class="text-gray-400 font-medium">0 running</span>
                            </div>
                            <div class="flex justify-between text-sm">
                                <span class="text-gray-500">Auto Start</span>
                                <span class="badge">Disabled</span>
                            </div>
                        </div>
                    </div>
                    <div class="bg-red-50 px-6 py-3 flex justify-between rounded-b-lg opacity-0 group-hover:opacity-100 transition">
                        <div class="flex gap-2">
                            <button class="p-1 text-gray-300 cursor-not-allowed"><i data-lucide="play" class="w-4 h-4"></i></button>
                            <button class="p-1 text-gray-300 cursor-not-allowed"><i data-lucide="square" class="w-4 h-4"></i></button>
                        </div>
                        <div class="flex gap-2 text-xs">
                            <button class="p-1 text-gray-400 hover:text-blue-500"><i data-lucide="edit-2" class="w-4 h-4"></i></button>
                            <button class="p-1 text-gray-400 hover:text-red-500"><i data-lucide="trash-2" class="w-4 h-4"></i></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Services Page (Placeholder) -->
        <div id="page-services" class="page-content">
            <div class="flex justify-between items-center mb-8">
                <div>
                    <h1 class="text-2xl font-bold text-gray-900">Services</h1>
                    <p class="text-gray-500 mt-1">12 service definitions found</p>
                </div>
                <button class="btn-secondary flex items-center gap-2">
                    <i data-lucide="refresh-cw" class="w-4 h-4"></i>
                    Scan Services
                </button>
            </div>
            <div class="card p-12 text-center">
                <div class="bg-gray-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                    <i data-lucide="package" class="w-8 h-8 text-gray-400"></i>
                </div>
                <h3 class="text-lg font-semibold mb-2">Service management coming soon</h3>
                <p class="text-gray-500 max-w-sm mx-auto mb-6">In the full version, you will be able to see detailed metadata and schema for each driver.</p>
                <button onclick="showPage('dashboard')" class="btn-primary">Back to Dashboard</button>
            </div>
        </div>

    </main>

    <script>
        // Initialize Lucide icons
        lucide.createIcons();

        // SPA Navigation Logic
        function showPage(pageId) {
            // Hide all pages
            document.querySelectorAll('.page-content').forEach(p => p.classList.remove('active'));
            // Remove active class from nav
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));

            // Show target page
            const targetPage = document.getElementById(`page-${pageId}`);
            if (targetPage) {
                targetPage.classList.add('active');
            }

            // Update Nav item
            const navItem = document.getElementById(`nav-${pageId}`);
            if (navItem) {
                navItem.classList.add('active');
            }

            // Update Breadcrumb
            const pageTitle = pageId.charAt(0).toUpperCase() + pageId.slice(1);
            document.getElementById('breadcrumb-current').innerText = pageTitle;

            // Re-run Lucide for any dynamic content if needed (not needed here but good practice)
            lucide.createIcons();

            // Scroll to top
            window.scrollTo(0, 0);
        }
    </script>
</body>
</html>
